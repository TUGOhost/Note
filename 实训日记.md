# 实训日记

### day01

1. 安装开发环境

- 安装mysql
- 安装jdk
- 配置环境变量 JAVA_HOME,path,CLASSPATH
- 安装eclipse，编码改为utf-8
- 安装tomcat，配置到eclipse，修改web目录，server localtions，注意一下http1.1的端口号

2. 用jdbc导入eclipse

- 链接数据库

JDBCTest.java

```java
package WebTest.util;
import java.sql.*;
public class JDBCTest {
	private static String driver="com.mysql.jdbc.Driver";
	private static String url="jdbc:mysql://localhost:3306/shixun";
	private static String user="root";
	private static String password="root";
	private static Connection conn=null;
	static {
		try {
			Class.forName(driver);
			conn=DriverManager.getConnection(url, user, password);
		} catch(ClassNotFoundException e) {
			e.printStackTrace();
		} catch(SQLException e) {
			e.printStackTrace();
		}
	}
	public static Connection getConn() {
		return conn;
	}
}

```

```java
ConnectTest.java
package WebTest.test;
import WebTest.util.*;
import java.sql.*;
public class ConnectTest {
	public static void main(String[] args) {
		Connection conn=JDBCTest.getConn();
		if(conn!=null) {
			System.out.println("连接成功");
		} else {
			System.out.println("连接失败");
		}
	}
}

```



### day02

servlet 一组Java类，逻辑处理，数据准备

jsp 做数据动态展示

1. 编写类dao.BookDao实现增删改查

   ```java
   package estore.dao;
   import estore.bean.*;
   import java.sql.Connection;
   import java.sql.PreparedStatement;
   import java.sql.ResultSet;
   import java.sql.SQLException;
   import java.util.ArrayList;
   import java.util.List;
   import java.sql.Statement;
   import estore.util.DBUtil;
   
   //BookDao
   public class Book {
   	public List<BookDao> getAll(){//获取所有
   		Connection conn=DBUtil.getConn();//ctrl+2 L,快捷键
   		List<BookDao> books= new ArrayList<BookDao>();
   		BookDao bd = null;
   		try {
   			Statement st = conn.createStatement();//获取连接
   			String sql="SELECT * FROM tbl_book";
   			ResultSet rs=((java.sql.Statement) st).executeQuery(sql);
   			while(rs.next()) {
   				bd = new BookDao();
   				bd.setBook_id(rs.getLong("book_id"));
   				bd.setBook_name(rs.getString("name"));
   				bd.setBook_price(rs.getDouble("price"));
   				books.add(bd);
   			}
   		} catch(SQLException e) {
   			e.printStackTrace();
   			return null;
   		}
   		return books;
   	}
   	public void insert(BookDao b){//插入一个列
   			Connection conn = DBUtil.getConn();
   			String sql="INSERT into tbl_book(book_id,name,price) values(?,?,?)";
   			try {
   				PreparedStatement st = conn.prepareStatement(sql);
   				st.setLong(1, b.getBook_id());
   				st.setString(2, b.getBook_name());
   				st.setDouble(3, b.getBook_price());
   				st.execute();
   			} catch(SQLException e) {
   				e.printStackTrace();
   			}
   	}
   	public void update(BookDao b) {//更新一个列
   		Connection conn = DBUtil.getConn();
   		String sql="UPDATE tbl_book SET name=?,price=? WHERE book_id=?";
   		try {
   			PreparedStatement st = conn.prepareStatement(sql);
   			st.setLong(3, b.getBook_id());
   			st.setString(1, b.getBook_name());
   			st.setDouble(2, b.getBook_price());
   			st.execute();
   		} catch(SQLException e) {
   			e.printStackTrace();
   		}
   	}
   	public void delete(Long book_id) {//删除一个ID
   		Connection conn = DBUtil.getConn();
   		String sql="DELETE FROM tbl_book WHERE book_id=?";
   		try {
   			PreparedStatement st = conn.prepareStatement(sql);
   			st.setLong(1, book_id);
   			st.execute();
   		} catch(SQLException e) {
   			e.printStackTrace();
   		}
   	}
   	public BookDao getById(Long book_id) throws RuntimeException {//查询一个ID 
   		Connection conn=DBUtil.getConn();//ctrl+2 L,快捷键
   		BookDao bd = null;
   		try {
   			Statement st = conn.createStatement();//获取连接
   			String sql="SELECT * FROM tbl_book WHERE book_id="+book_id;
   			ResultSet rs=((java.sql.Statement) st).executeQuery(sql);
   			if(rs.next()) {
   				bd = new BookDao();
   				bd.setBook_id(rs.getLong("book_id"));
   				bd.setBook_name(rs.getString("name"));
   				bd.setBook_price(rs.getDouble("price"));	
   			}
   		} catch(SQLException e) {
   			e.printStackTrace();
   			throw new RuntimeException("异常");
   		}
   		return bd;
   	}
   }
   //获取连接
   //获取statement对象
   //执行SQL
   //或执行查询的得到ResultSet，获取一行数据保存为一个bean.Book类得的对象
   ```

2. bean.Book

```java
package estore.bean;
//Book
public class BookDao {
	private Long book_id;
	private String Book_name;
	private Double book_price;
	public Long getBook_id() {
		return book_id;
	}
	public void setBook_id(Long book_id) {
		this.book_id = book_id;
	}
	public String getBook_name() {
		return Book_name;
	}
	public void setBook_name(String book_name) {
		Book_name = book_name;
	}
	public Double getBook_price() {
		return book_price;
	}
	public void setBook_price(Double book_price) {
		this.book_price = book_price;
	}
	public BookDao(Long book_id, String book_name, Double book_price) {
		super();
		this.book_id = book_id;
		Book_name = book_name;
		this.book_price = book_price;
	}
	public BookDao() {
		super();
		// TODO Auto-generated constructor stub
	}
	@Override
	public String toString() {
		return "BookDao [book_id=" + book_id + ", Book_name=" + Book_name + ", book_price=" + book_price + "]";
	}
	
}

```

3. CURDtest.java

```java
package estore.test;
import java.util.List;

import estore.dao.*;
import estore.bean.*;

public class CURDtest {
	public static void main(String[] args) {
		Book dao = new Book();
		/*List<BookDao> books=dao.getAll();
		for(BookDao book:books) {
			System.out.println(book);
		}*/
		//dao.insert(new BookDao(11L,"android",40.1));
		//dao.delete(11L);
		try {
			BookDao b=dao.getById(1L);
		if(dao.getById(10L)!=null) {
			System.out.println(b);
			}
		
		} catch(RuntimeException e) {
			System.out.println(e.getMessage());
		}
		
	}
}

```

4. 插入数据为中文

   > private static String url="jdbc:mysql://127.0.0.1:3306/shixun?characterEncoding=utf-8";

5. web介绍

   - 项目基于B/S模式即浏览器服务器模式；在浏览器输入服务器的IP及端口号来访问
   - `html`静态页面
   - `jsp` java代码块<% %> 表达式<%=%>,el表达式即jstl.jar
   - `Servlet`一组基于web的Java类和接口，主要用于处理业务逻辑和进行数据分发（携带数据转到不同的jsp文件上进行展示）
   - `JavaScript`主要用于前端的动态功能

   test.html

   ```html
   <!DOCTYPE html>
   <html>
   <head>
   <meta charset="UTF-8">
   <title>Insert title here</title>
   </head>
   <body>
   <form action="demoServlert" method="GET">
   	请输入用户名 <input type="Text" name="name"><br>
   	请输入密码 <input type="Password" name="password" maxlength="9"><br>
   	<input type="Submit" value="确定">
   	</form>
   </body>
   </html>
   ```

   

### day03

1. 导入资源：html、css、JavaScript……
2. 解决编码问题：

​	get：Filter

​	post：修改tomcat配置文件server.xml 添加`URLEncoding="UTF-8"`

生命周期方法

- 现在出现的问题是，自己的servlet不能用。

触发了。但是不知道为啥感觉不能用

3. index.jsp注入数据
   - 定义监听器来准备数据
   - 创建index.jsp文件
   - 再注入数据

- 注：jsp里有三种作用域，request，respone，session，application

​	jsp->servlet->jsp

​	index.jsp->showbookservlet->viewbook.jsp

出现以下报错，说明有代码写错了。而不是Tomcat问题。

![](image/60.png)

4. 进行登陆拦截   

   - addCart  
   - loginfilter 
   - 实现login.jsp 添加jsp模板，解决路径问题（loginfilter 通过session变量来判断用户有没有登陆）

   ​	login.jsp

   ```jsp
   <%@ page language="java" contentType="text/html; charset=UTF-8"
       pageEncoding="UTF-8"%>
   <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
   <%
   	String path=request.getContextPath();
   	String basePath=request.getScheme()+"://"+request.getServerPort()+path+"/";
   %>
   <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
   <html>
   <head>
   <base href="<%=basePath %>">
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <title>briup电子商务-登录页</title>
   <link rel="stylesheet" href="css/common.css"/>
   <link rel="stylesheet" href="css/style.css" />
   </head>
   <body>
   	<div class="header1">
       	<a href="#">
           	<img src="images/logo.png">
           </a>
       </div>
       <div class="content1">	<!--背景颜色-->
       	<div class="c1_box1"><!--背景图片-->
           	<div class="login_box"><!--登陆框-->
               	<div class="center1">
           		<form action="index.html" method="post">
                   	<h1>账号登陆</h1>
                       <h2>公共场所请不要泄露您的密码，以防止账号丢失
                       </h2>
                       <div class="si_box">
                       	<span class="usr_icon"></span>
                           <input type="text" name="name"/>${requestScope.message }
                       </div>
                       <!--分割条-->
                       <div class="c10"></div>
                       <div class="si_box">
                       	<span class="pwd_icon"></span>
                           <input type="password" name="password"/>
                       </div>
                       <div class="fg_box">
                       	<a class="fg" href="#">忘记登陆密码？</a>
                           <a class="treg" href="#">立即注册</a>
                       </div>
                       <div class="sub_box">
                       	<input type="submit" value="登陆"/>
                       </div>
                    </form>
                       <div>
                       	请使用合作网站账号登陆杰普电子商务网：
                       </div>
                       <div class="com_box">
                       	<span class="tencent"></span>
                           
                       </div>
                   </div>
               </div>
           </div>
       </div>
       <div class="footer1">
       	<div class="links">
           	<a href="#">关于我们</a>|
               <a href="#">联系我们</a>|
               <a href="#">友情链接</a>|
               <a href="#">关于我们</a>|
               <a href="#">联系我们</a>|
               <a href="#">友情链接</a>
           </div>
           <div>
           	沪ICP备1928832 杰普软件briup.com版权所有。
           </div>
           
           <img src="images/police.png">
           
       </div>
   </body>
   </html>
   
   ```

   loginfilter.java

   ```java
   package estore.web;
   
   import java.io.IOException;
   import javax.servlet.Filter;
   import javax.servlet.FilterChain;
   import javax.servlet.FilterConfig;
   import javax.servlet.ServletException;
   import javax.servlet.ServletRequest;
   import javax.servlet.ServletResponse;
   import javax.servlet.http.HttpServletRequest;
   import javax.servlet.http.HttpSession;
   
   import estore.bean.Customer;
   public class LoginFilter implements Filter {
   
   	@Override
   	public void destroy() {
   		// TODO Auto-generated method stub
   
   	}
   
   	@Override
   	public void doFilter(ServletRequest req, ServletResponse resp, FilterChain chain)
   			throws IOException, ServletException {
   		// TODO Auto-generated method stub
   		HttpSession session=((HttpServletRequest)req).getSession();
   		Customer customer= (Customer)session.getAttribute("customer");
   		if(customer==null) {
   			req.setAttribute("message","请先登录!" );
   			req.getRequestDispatcher("../login.jsp").forward(req, resp);
   		}else {
   			chain.doFilter(req, resp);
   		}
   	}
   
   	@Override
   	public void init(FilterConfig arg0) throws ServletException {
   		// TODO Auto-generated method stub
   
   	}
   
   }
   
   ```

   showbookservlet.java

   ```java
   package estore.web;
   
   import java.io.IOException;
   import estore.bean.*;
   import estore.dao.*;
   import javax.servlet.ServletException;
   import javax.servlet.http.HttpServlet;
   import javax.servlet.http.HttpServletRequest;
   import javax.servlet.http.HttpServletResponse;
   
   public class ShowBookServlet extends HttpServlet {
   	@Override
   	protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
   		// TODO Auto-generated method stub
   		String idStr = req.getParameter("id");
   		Long book_id = Long.parseLong(idStr);
   		Book dao=new Book();
   		BookDao byId = dao.getById(book_id);
   		//System.out.println(byId);
   		req.setAttribute("book", byId);
   		req.getRequestDispatcher("viewBook.jsp").forward(req, resp);
   	}
   	@Override
   	protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
   		// TODO Auto-generated method stub
   		doGet(req,resp);
   	}
   }
   
   ```

   index.jsp

   ```jsp
   <%@ page language="java" contentType="text/html; charset=UTF-8"
       pageEncoding="UTF-8"%>
   <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
   <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
   <html>
   <head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <title>briup电子商务-首页</title>
   <link rel="stylesheet" href="css/common.css"/>
   <link rel="stylesheet" href="css/style.css" />
   <link rel="stylesheet" href="css/icons.css" />
   <link rel="stylesheet" href="css/table.css" />
   <style>
     .c3_b2{
     
   }
   .c3_b2 ul{
      height: 350px;
        width: 100%;
        text-align: center;
        overflow: auto;
   }
   .c3_b2 ul li{
   	width:280px;
   }
   .c3_b2 ul li div{
      	width:275px;
   }
   </style>
   </head>
   <body>
   	<!--顶部-->
   	<div class="top">
       	<div class="top_center">
               <ul class="top_bars">
               	<li><a href="#">退出</a>|</li>
                   <li><a href="#">我的订单<span class="jt_down"></span></a>|</li>
                   <li><a href="#">关注杰普<span class="jt_down"></span></a>|</li>
                   <li><a href="#">网站导航<span class="jt_down"></span></a></li>
               </ul>
           </div>
       </div>
       <!--头部-->
       <div class="header3">
       	<a href="#"><img src="images/logo.png"></a>
       	<div class="h3_center">
           	<div class="search_box">
               	<input type="text"/>
                   <span>搜索</span>
               </div>
               <p>
               	<a href="#">文学类</a>|
               	<a href="#">教育类</a>|
                   <a href="#">计算机</a>|
                   <a href="#">儿童类</a>|
                   <a href="#">漫画类</a>|
               </p>
           </div>
           <div class="h3_right">
           	<div class="myyy">
               	个人信息
                   <span class="sj_down"></span>
                </div>
               <div class="tsc">
                <a href='shopCart.html'>
               	去购物车结算
                   <span class="sj_right">
                   </span>
                    </a>
               </div>
           </div>
       </div>
       <!--头部导航-->
       <div class="nav_top">
       	<div class="nav_top_center">
               <div>
                   全部图书分类
               </div>
               <ul>
                   <li><a href="#">文学类</a></li>
                   <li><a href="#">教育类</a></li>
                   <li><a href="#">计算机</a></li>
                   <li><a href="#">儿童类</a></li>
                   <li><a href="#">漫画类</a></li>
               </ul>
           </div>
       </div>
       
   	<div class="container3">
       	<div class="c3_b1">
           	<div class="c3_b1_left">
               	<dl>
                  		<dd>
                       	<h1>文学类</h1>
                       	<p>
                           	<a href="#">文学</a>
                              	<a href="#">文学</a>
                               <a href="#">文学</a>
                               <a href="#">文学</a>
                         	</p>
                       </dd>
                       <dd>
                       	<h1>教育类</h1>
                       	<p>
                           	<a href="#">教育</a>
                              	<a href="#">教育</a>
                               <a href="#">教育</a>
                               <a href="#">教育</a>
                         	</p>
                       </dd>
                       <dd>
                       	<h1>计算机</h1>
                       	<p>
                              	<a href="#">计算机</a>
                               <a href="#">计算机</a>
                               <a href="#">计算机</a>
                         	</p>
                       </dd>
                       <dd>
                       	<h1>儿童类</h1>
                       	<p>
                           	<a href="#">图书</a>
                              	<a href="#">图书</a>
                               <a href="#">图书</a>
                               <a href="#">图书</a>
                         	</p>
                       </dd>
                       <dd>
                       	<h1>漫画类</h1>
                       	<p>
                           	<a href="#">漫画</a>
                              	<a href="#">漫画</a>
                               <a href="#">漫画</a>
                               <a href="#">漫画</a>
                         	</p>
                       </dd>
                       <dd>
                       	<h1>工具书</h1>
                       	<p>
                           	<a href="#">工具书</a>
                              	<a href="#">工具书</a>
                               <a href="#">工具书</a>
                         	</p>
                       </dd>
                       <dd class="last">
                       	<h1>期刊</h1>
                       	<p>
                           	<a href="#">期刊</a>
                              	<a href="#">期刊</a>
                               <a href="#">期刊</a>
                               <a href="#">期刊</a>
                         	</p>
                       </dd>
                   </dl>
               </div>
               <div class="c3_b1_center">
               	<div>
                   	<a href="#"><img src="images/ad1.png"></a>
                   </div>
                   <div class="c3_b1_c_bottom">
                       <ul>
                       	<c:forEach begin="0" items="${applicationScope.books }" var="item">
                           <li>
                               <a href="showServlet?id=${item.book_id }"><img src="images/p01.png"/></a>
                              <a href="showServlet?id=${item.book_id }">${item.name }</a>  
                           </li>
                           </c:forEach>
                          <%--<li>
                              <a href="showServlet?id=${item.book_id }"><img src="images/p01.png"/></a> 
                              <a href="#">Java从入门到精通</a> 
                           </li>
                           <li>
                              <a href="showServlet?id=${item.book_id }"><img src="images/p01.png"/></a> 
                              <a href="#">Java从入门到精通</a>
                           </li>  --%>
                       </ul>
               	</div>
               </div>
               <div class="c3_b1_right">
               	<h1>杰普快报<a href="#">更多</a></h1>
               	<ul>
                   	<li><a href="#">〈加措〉相信这一切都是对我们最好的安排  </a></li>
                   	<li><a href="#">〈加措〉相信这一切都是对我们最好的安排  </a></li>
                   	<li><a href="#">〈加措〉相信这一切都是对我们最好的安排  </a></li>
                   	<li><a href="#">〈加措〉相信这一切都是对我们最好的安排  </a></li>
                   	<li><a href="#">〈加措〉相信这一切都是对我们最好的安排  </a></li>
                   	<li><a href="#">〈加措〉相信这一切都是对我们最好的安排  </a></li>
                   	<li><a href="#">〈加措〉相信这一切都是对我们最好的安排  </a></li>
                   	<li><a href="#">〈加措〉相信这一切都是对我们最好的安排  </a></li>
                   	<li><a href="#">〈加措〉相信这一切都是对我们最好的安排  </a></li>
                   	<li><a href="#">〈加措〉相信这一切都是对我们最好的安排  </a></li>
                   	<li><a href="#">〈加措〉相信这一切都是对我们最好的安排  </a></li>
                   	<li><a href="#">〈加措〉相信这一切都是对我们最好的安排  </a></li>
                   	<li><a href="#">〈加措〉相信这一切都是对我们最好的安排  </a></li>
                   	<li><a href="#">〈加措〉相信这一切都是对我们最好的安排  </a></li>
                   	<li><a href="#">〈加措〉相信这一切都是对我们最好的安排  </a></li>
                   </ul>
               </div>
               <div style="clear:both"></div>
           </div>
           <div class="c3_b2">
           	<ul>
           		<c:forEach items="${applicationScope.books }" var="item"></c:forEach>
               	<li>
                   	<div class="c3_b2_txt">
                       	<h1>${item.name }</h1>
                           <p>Java经典</p>
                           <h2>畅销书籍</h2>
                           <h2>覆盖java基础及全新内容</h2>
                           <p><a href="showBookServlet?id=${item.book_id }">更多精彩，点击进入</a></p>
                       </div>
                   </li>
                  <!--  <li>
                   	<div class="c3_b2_txt">
                       	<h1>疯狂JAVA讲义</h1>
                           <p>Java经典</p>
                           <h2>畅销书籍</h2>
                           <h2>覆盖java基础及全新内容</h2>
                           <p><a href="#">更多精彩，点击进入</a></p>
                       </div>
                   </li>
                   <li>
                   	<div class="c3_b2_txt">
                       	<h1>疯狂JAVA讲义</h1>
                           <p>Java经典</p>
                           <h2>畅销书籍</h2>
                           <h2>覆盖java基础及全新内容</h2>
                           <p><a href="#">更多精彩，点击进入</a></p>
                       </div>
                   </li>
                   <li class="no_mr">
                   	<div class="c3_b2_txt">
                       	<h1>疯狂JAVA讲义</h1>
                           <p>Java经典</p>
                           <h2>畅销书籍</h2>
                           <h2>覆盖java基础及全新内容</h2>
                           <p><a href="#">更多精彩，点击进入</a></p>
                       </div>
                   </li>
                   <li>
                   	<div class="c3_b2_txt">
                       	<h1>疯狂JAVA讲义</h1>
                           <p>Java经典</p>
                           <h2>畅销书籍</h2>
                           <h2>覆盖java基础及全新内容</h2>
                           <p><a href="#">更多精彩，点击进入</a></p>
                       </div>
                   </li>
                   <li>
                   	<div class="c3_b2_txt">
                       	<h1>疯狂JAVA讲义</h1>
                           <p>Java经典</p>
                           <h2>畅销书籍</h2>
                           <h2>覆盖java基础及全新内容</h2>
                           <p><a href="#">更多精彩，点击进入</a></p>
                       </div>
                   </li>
                   <li>
                   	<div class="c3_b2_txt">
                       	<h1>疯狂JAVA讲义</h1>
                           <p>Java经典</p>
                           <h2>畅销书籍</h2>
                           <h2>覆盖java基础及全新内容</h2>
                           <p><a href="#">更多精彩，点击进入</a></p>
                       </div>
                   </li>
                   <li class="no_mr">
                   	<div class="c3_b2_txt">
                       	<h1>疯狂JAVA讲义</h1>
                           <p>Java经典</p>
                           <h2>畅销书籍</h2>
                           <h2>覆盖java基础及全新内容</h2>
                           <p><a href="#">更多精彩，点击进入</a></p>
                       </div>
                   </li> -->
               </ul>
           </div>
       <div class="c20"></div>
       <!--脚部-->
       <div class="footer3">
       	<div class="f3_top">
           	<div class="f3_center">
                   <div class="ts1">品目繁多 愉悦购物</div>
                   <div class="ts2">正品保障 天天低价</div>
                   <div class="ts3">极速物流 特色定制</div>
                   <div class="ts4">优质服务 以客为尊</div>
               </div>
           </div>
           <div class="f3_middle">
           	<ul class="f3_center">
               	<li class="f3_mi_li01">
                   	<h1>购物指南</h1>
                       <p>常见问题</p>
                       <p>找回密码</p>
                       <p>会员介绍</p>
                       <p>购物演示</p>
                   </li>
                   <li class="f3_mi_li01">
                   	<h1>配送方式</h1>
                       <p>常见问题</p>
                       <p>找回密码</p>
                       <p>会员介绍</p>
                       <p>购物演示</p>
                   </li>
                   <li class="f3_mi_li01">
                   	<h1>支付方式</h1>
                       <p>常见问题</p>
                       <p>找回密码</p>
                       <p>会员介绍</p>
                       <p>购物演示</p>
                   </li>
                   <li class="f3_mi_li01">
                   	<h1>售后服务</h1>
                       <p>常见问题</p>
                       <p>找回密码</p>
                       <p>会员介绍</p>
                       <p>购物演示</p>
                   </li>
                   <li class="f3_mi_li01">
                   	<h1>服务保障</h1>
                       <p>常见问题</p>
                       <p>找回密码</p>
                       <p>会员介绍</p>
                       <p>购物演示</p>
                   </li>
                   <li class="f3_mi_li06">
                   	<h1>客服中心</h1>
                       <img src="images/qrcode_jprj.jpg" width="80px" height="80px">
                       <p>抢红包、疑问咨询、优惠活动</p>
                   </li>
               </ul>
           </div>
           <div class="f3_bottom">
           	<p class="f3_links">
                   <a href="#">关于我们</a>|
                   <a href="#">联系我们</a>|
                   <a href="#">友情链接</a>|
                   <a href="#">供货商入驻</a> 
              	</p>
               <p>沪ICP备14033591号-8 杰普briup.com版权所有 杰普软件科技有限公司 </p>
             	<img src="images/police.png">
           </div>
       </div>
   
   </body>
   </html>
   ```

   viewbook.jsp

   ```jsp
   <%@ page language="java" contentType="text/html; charset=UTF-8"
       pageEncoding="UTF-8"%>
   <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
   <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
   <html>
   <head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <title>briup电子商务-首页</title>
   <link rel="stylesheet" href="css/common.css"/>
   <link rel="stylesheet" href="css/style.css" />
   <link rel="stylesheet" href="css/icons.css" />
   <link rel="stylesheet" href="css/table.css" />
   <style type="text/css">
    .pro_addshop{
      border: 0px;
      display: block;
    }
   
   </style>
   <script type="text/javascript" src="js/jquery-3.0.0.min.js"></script>
   <script type="text/javascript" >
      $(function(){
   	  $(".add").on("click",function(){
   		var num = $(".num").val()
   		  var  tab = $(this).html();
   		  if(tab==("+")){
   			  num++;
   		  }else{
   			    if($.trim(num)<=0){
   			      alert("数量不能小于0")	
   			    }else{
   			    num--;
   			    }
   		  }
   		  var num = $(".num").val(num);
   	  })
     }) 
   </script>
   </head>
   <body>
   	<!--顶部-->
   	<div class="top">
       	<div class="top_center">
               <ul class="top_bars">
               	<li><a href="#">退出</a>|</li>
                   <li><a href="#">我的订单<span class="jt_down"></span></a>|</li>
                   <li><a href="#">关注杰普<span class="jt_down"></span></a>|</li>
                   <li><a href="#">网站导航<span class="jt_down"></span></a></li>
               </ul>
           </div>
       </div>
       <!--头部-->
       <div class="header3">
       	<a href="#"><img src="images/logo.png"></a>
       	<div class="h3_center">
           	<div class="search_box">
               	<input type="text"/>
                   <span>搜索</span>
               </div>
               <p>
               	<a href="#">文学类</a>|
               	<a href="#">教育类</a>|
                   <a href="#">计算机</a>|
                   <a href="#">儿童类</a>|
                   <a href="#">漫画类</a>|
               </p>
           </div>
           <div class="h3_right">
           	<div class="myyy">
               	个人信息
                   <span class="sj_down"></span>
                </div>
               <div class="tsc">
               	去购物车结算
                   <span class="sj_right"></span>
               </div>
           </div>
       </div>
       <!--头部导航-->
       <div class="nav_top">
       	<div class="nav_top_center">
               <div>
                   全部图书分类
               </div>
               <ul>
                   <li><a href="#">文学类</a></li>
                   <li><a href="#">教育类</a></li>
                   <li><a href="#">计算机</a></li>
                   <li><a href="#">儿童类</a></li>
                   <li><a href="#">漫画类</a></li>
               </ul>
           </div>
       </div>
       
   	<div class="container5">
       	<div class="cn5_top">
               <div class="cn5_top_x center01">
               	<a class="font20" href="#">书籍</a> >
                   <a href="#">计算机类</a>
               </div>
               <div class="cn5_top_y center01">
               	<div class="cn5topy_1">
                   	<div class="cn5topy_imgview">
                       	<img src="images/viewBook.png"/>
                           <ul class="cn5topy_imglist">
                           	<li><a href="#"><img src="images/viewBook.png"></a></li>
                               <li class="current"><a href="#"><img src="images/viewBook.png"></a></li>
                               <li><a href="#"><img src="images/viewBook.png"></a></li>
                               <li><a href="#"><img src="images/viewBook.png"></a></li>
                               <li><a href="#"><img src="images/viewBook.png"></a></li>
                           </ul>
                       </div>
                   </div>
                   <div class="cn5topy_2">
                   	<h1 class="pro_title font15">${requestScope.book.name }</h1>
                       <div class="pro_price">
                               <div class="pro_price_x">
                                   <p> briup价：<b>￥${requestScope.book.price }</b> <a href="#">(降价通知)</a></p>
                               </div>
                       </div>
                       <div class="pro_ship">
                           <div>
                           	<div class="pro_key fl">服&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;务：</div>
                               <ul class="pro_service f1">
                                   <li class="service_fq">分期付款</li>
                                   <li class="service_myf">免运费</li>
                                   <li class="service_zt">自提</li>
                                   <li class="service_th">7天无理由退换货</li>
                               </ul>
                           </div>
                       </div>
                       <div class="pro_selects">
                       	<div class="pro_select">
                           	<div class="pro_key pro_key_vertical fl">选择版本：</div>
                               <ul class="pro_select_vals">
                                   <li>精装版</li>
                                   <li>简装版</li>
                                   <li>收藏版</li>
                               </ul>
                           </div>
                       </div>
                       <form action="loginAfter/addToCartServlet">
                       <div class="pro_buy">
                       	<div class="pro_buy_nums">
                           	<input type="text" value="1" class="num" name="num"/>
                               <input type="text" value="${requestScope.book.book_id }" name="id" hidden>
                               <dl>
                               	<dd class="add">+</dd>
                                   <dd class="add">-</dd> 
                               </dl>
                           </div>
                           
                           <button class="pro_addshop">加入购物车</button>
                       </div>
                       </form>
                       
                   </div>
               </div>
           </div>
       	<div class="c5_b2">
           	
               <div class="c5_b2_right">
               	<!--选项卡-->
               	<ul class="c5_b2_tabs">
                   	<li>商品介绍</li>
                       <li class="current">规格参数</li>
                       <li>包装清单</li>
                       <li>商品评价</li>
                   </ul>
                   <!--内容-->
                 	<div class="c5_b2_right_1 box">
                           <div class="introduce_item">
                             <ul>
                           	<li>商品名称：Effective Java (中文版) 第2版</li>
                               <li>商品编号：1002024</li>
                               <li class="fr"><a class="color_link1" href="#">更多参数>></a></li>
                             </ul>
                           </div>
                  		</div>
                       <div class="intro_pics">
                       	<img class="intro_pic" src="images/viewBook.png">
                       </div>
                   </div>
                   
                   
               <div class="c5_b2_right">
                 	<div class="c5_b2_right_2">
                       	<h1>正品行货</h1>
                           <p>briup网上商城向您保证所售商品均为正品，briup自营商品开具机打发票或电子发票。</p>
                           
                           <h1>全国联保</h1>
                           <p>凭质保证书及briup网上商城发票，可享受全国联保服务，与您亲临商场选购的商品享受相同的质量保证。briup网上商城还为您提供具有竞争力的商品价格和运费政策，请您放心购买！</p>
                           
                           <h1>正品行货</h1>
                           <p>briup网上商城向您保证所售商品均为正品，briup自营商品开具机打发票或电子发票。</p>
                           
                           <h1>全国联保</h1>
                           <p>凭质保证书及briup网上商城发票，可享受全国联保服务，与您亲临商场选购的商品享受相同的质量保证。briup网上商城还为您提供具有竞争力的商品价格和运费政策，请您放心购买！</p>
                           
               		</div> 
               </div>
               
               <!--左侧栏-->
               <div class="c5_b2_left_container">
                   <div class="c5_b2_left box">
                       <h1>服务时间 早9：00~凌晨1：00</h1>
                       <p>
                       <a href="#">
                           <img class="callmebyqq" src="images/icon_qq_03.png"/>
                       </a>
                       </p>
                   </div>
                   
                   <div class="c5_b2_left box">
                       <h1>其他种类</h1>
                       <dl>
                           <dd>文学类</dd>
                           <dd>漫画类</dd>
                           <dd>通书类</dd>
                       </dl>
                       <dl>
                           <dd>文学类</dd>
                           <dd>漫画类</dd>
                           <dd>通书类</dd>
                       </dl>
                   </div>
               </div> 
           </div>
       </div>
       	
       <div class="c20"></div>
       <!--脚部-->
       <div class="footer3">
       	<div class="f3_top">
           	<div class="f3_center">
                   <div class="ts1">品目繁多 愉悦购物</div>
                   <div class="ts2">正品保障 天天低价</div>
                   <div class="ts3">极速物流 特色定制</div>
                   <div class="ts4">优质服务 以客为尊</div>
               </div>
           </div>
           <div class="f3_middle">
           	<ul class="f3_center">
               	<li class="f3_mi_li01">
                   	<h1>购物指南</h1>
                       <p>常见问题</p>
                       <p>找回密码</p>
                       <p>会员介绍</p>
                       <p>购物演示</p>
                   </li>
                   <li class="f3_mi_li01">
                   	<h1>配送方式</h1>
                       <p>常见问题</p>
                       <p>找回密码</p>
                       <p>会员介绍</p>
                       <p>购物演示</p>
                   </li>
                   <li class="f3_mi_li01">
                   	<h1>支付方式</h1>
                       <p>常见问题</p>
                       <p>找回密码</p>
                       <p>会员介绍</p>
                       <p>购物演示</p>
                   </li>
                   <li class="f3_mi_li01">
                   	<h1>售后服务</h1>
                       <p>常见问题</p>
                       <p>找回密码</p>
                       <p>会员介绍</p>
                       <p>购物演示</p>
                   </li>
                   <li class="f3_mi_li01">
                   	<h1>服务保障</h1>
                       <p>常见问题</p>
                       <p>找回密码</p>
                       <p>会员介绍</p>
                       <p>购物演示</p>
                   </li>
                   <li class="f3_mi_li06">
                   	<h1>客服中心</h1>
                       <img src="images/qrcode_jprj.jpg" width="80px" height="80px">
                       <p>抢红包、疑问咨询、优惠活动</p>
                   </li>
               </ul>
           </div>
           <div class="f3_bottom">
           	<p class="f3_links">
                   <a href="#">关于我们</a>|
                   <a href="#">联系我们</a>|
                   <a href="#">友情链接</a>|
                   <a href="#">供货商入驻</a> 
              	</p>
               <p>沪ICP备14033591号-8 杰普briup.com版权所有 杰普软件科技有限公司 </p>
             	<img src="images/police.png">
           </div>
       </div>
   
   </body>
   </html>
    
   ```

- 常见错误
  - Tomcat启动报错
    - <url-pattern>/loginFilter/<url-pattern>
    - 根据console的提示，修改web.xml的错误
  - 404错误
    - 没有在web.xml中注册Servlet
  - 405错误
    - 没有重新doGet和doPost方法

### day04

